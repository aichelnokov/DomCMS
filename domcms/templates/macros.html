{% macro get_input(field,value,domcms) %}
	{% if domcms.current_model[field].access_write==1 and 'AUTO_INCREMENT' not in domcms.current_model[field].flags %}
		<h6>{{ field }}</h6>
		{% if domcms.current_model[field]['type']=='VARCHAR(255)' %}
			<input type="text" class="form-control" id="{{ field }}" name="{{ field }}" value="{{ value }}">
		{% endif %}
	{% else %}
		<div class="panel panel-default">
			<div class="panel-body">
				<h6>{{ field|capitalize }} 
					<span class="label label-default">{{ value }}</span>
					<span class="label label-warning"><span class="glyphicon glyphicon-info-sign"></span> {{ domcms.current_model[field].type }}</span>
					<span class="label label-info"><span class="glyphicon glyphicon-question-sign"></span> {{ domcms.current_model[field].flags|replace({
						'AUTO_INCREMENT':'A_I',
						'NOT NULL':'<s>NULL</s>',
					}) }}</span>
				</h6>
			</div>
		</div>
	{% endif %}
{% endmacro %}

{% macro nested_list(list,domcms,users) %}
	<ul class="list-group nested_list{% if domcms.sortable==1 %} sortable{% endif %}">
		{% for i in domcms.data.list %}
		<li class="list-group-item">
			<div class="nested_li">
				{% if i.title is defined %}<a href="{% if users.access[domcms.mode]['id']['access_write']!=0 %}{{ domcms.url.edit|replace({'%ID%':i.id}) }}{% else %}#{% endif %}">{{ i.title }}</a>{% endif %}
				{% if i.url is defined %}<span class="label label-default">{{ i.url }}</span>{% endif %}
				<div class="btn-toolbar">
					{% if domcms.url.listButtons|length>0 %}
					<div class="btn-group">
						{% for jk,j in domcms.url.listButtons %}
						<a href="{{ j.url|replace({'%ID_PARENT%':i.id}) }}" class="btn btn-default">
							{% if j.glyphicon is not empty %}<span class="glyphicon {{ j.glyphicon }}"></span>{% endif %}
							{{ j.title }}
						</a>
						{% endfor %}
					</div>
					{% endif %}
					{% if domcms.model[domcms.name~'_photos'] is defined %}
					<div class="btn-group">
						<a href="{{ domcms.url.photos|replace({'%ID_PARENT%':i.id}) }}" class="btn btn-default"><span class="glyphicon glyphicon-picture"></span></a>
					</div>
					{% endif %}
					{% if i.visible is defined %}
					<div class="btn-group">
						<div href="#" class="btn btn-default active"><span class="glyphicon glyphicon-eye-open"></span></div>
						<div href="#" class="btn btn-default"><span class="glyphicon glyphicon-eye-close"></span></div>
					</div>
					{% endif %}
					<div class="btn-group">
						<a href="{{ domcms.url.edit|replace({'%ID%':i.id}) }}" class="btn btn-default{% if users.access[domcms.mode]['id']['access_write']==0 %} disabled{% endif %}"><span class="glyphicon glyphicon-pencil"></span></a>
						<a href="{{ domcms.url.delete|replace({'%ID%':i.id}) }}" class="btn btn-danger{% if users.access[domcms.mode]['id']['access_delete']==0 %} disabled{% endif %}"><span class="glyphicon glyphicon-trash"></span></a>
					</div>
				</div>
			</div>
			{% if i.children|length>0 %}{{ _self.nested_list(i.children,domcms,users) }}{% endif %}
		</li>
		{% endfor %}
	</ul>
{% endmacro %}